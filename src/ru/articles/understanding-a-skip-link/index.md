---
title: Разбираемся со skip link
description: Как пропустить большую навигацию с помощью skip link, кому это нужно и какие есть подходы к реализации паттерна пропуска контента.
keyTheme:
    - Паттерны
    - HTML
    - CSS
date: 2021-08-23
layout: article.njk
templateEngineOverride: md, njk
---
В&nbsp;вебе есть много небольших, но&nbsp;полезных доступных паттернов. И&nbsp;один из&nbsp;них&nbsp;— ссылка для пропуска контента или&nbsp;скип линк (skip link). Это гиперссылка, которая ведёт к&nbsp;основному содержанию страницы и&nbsp;помогает пропустить объёмный, часто повторяющийся контент. Её главная цель&nbsp;— экономия времени пользователей.

Какой контент считается объёмным? Навигационное меню с&nbsp;логотипом и&nbsp;кучей ссылок, громоздкая сложная таблица, буквенные указатели, списки с&nbsp;главами или&nbsp;техническими характеристиками. Чаще всего skip link полезна для пропуска навигации по&nbsp;сайту в&nbsp;хедере.

Исключения&nbsp;— меню в&nbsp;футере и&nbsp;небольшая навигация в&nbsp;хедере, которая состоит из&nbsp;пары ссылок и&nbsp;логотипа. В&nbsp;случае футера можно вернуться к&nbsp;началу страницы с&nbsp;помощью клавиш, жестов и&nbsp;других встроенных возможностей браузеров. А&nbsp;небольшая навигация не&nbsp;отнимет много времени у&nbsp;пользователей.

В&nbsp;теории всё просто, но&nbsp;на&nbsp;практике несколько сложнее. Давайте попробуем разобраться со&nbsp;всем по&nbsp;порядку.

## Теория

### Что говорит про это WCAG 2.1

В&nbsp;руководстве по&nbsp;доступности есть два критерия, связанные со&nbsp;skip link. Первый касается их&nbsp;косвенно, а&nbsp;второй напрямую.

- [Критерий 2.1.1.&nbsp;Клавиатура](https://www.w3.org/TR/WCAG21/#keyboard) (A). Вся функциональность контента доступна для клавиатуры и&nbsp;не&nbsp;зависит от&nbsp;пауз между нажатиями клавиш.
- [Критерий 2.4.1.&nbsp;Пропуск блоков](https://www.w3.org/TR/WCAG21/#bypass-blocks) (А). Доступен механизм пропуска блоков контента, которые&nbsp;повторяются на&nbsp;нескольких страницах.

### Механизмы для пропуска блоков

Есть два механизма:

- навигация по&nbsp;ориентирам (landmarks);
- skip link.

Первый способ доступен для пользователей скринридеров. Ориентиры добавляются с&nbsp;помощью семантических тегов или&nbsp;благодаря ARIA. У&nbsp;второго механизма аудитория больше. Это не&nbsp;только пользователи с&nbsp;особенностями зрения.

Можно встретить совет о&nbsp;том, что skip link не&nbsp;нужна на&nbsp;сайте с&nbsp;хорошей семантической вёрсткой. Это не&nbsp;совсем верно. Не&nbsp;все&nbsp;пользователи скринридеров знают о&nbsp;шорткатах для открытия меню с&nbsp;ориентирами, а&nbsp;у&nbsp;других пользователей клавиатуры такой возможности нет. К&nbsp;тому&nbsp;же, чем больше вариантов навигации, тем лучше.

### Кому нужна skip link

Если коротко, то&nbsp;всем, кто&nbsp;последовательно навигируется по&nbsp;страницам и&nbsp;не&nbsp;может быстро пропустить контент. Если развёрнуто, то&nbsp;четырём категориям пользователей. Это:

- Пользователи скринридеров, которые перемещаются по&nbsp;десктопным сайтам с&nbsp;помощью клавиатуры, а&nbsp;по&nbsp;мобильным&nbsp;— касаниями, тапами и&nbsp;свайпами.
- Пользователи с&nbsp;моторными нарушениями, которые пользуются клавиатурой, выносными компьютерными кнопками и&nbsp;[другими переключателями](https://axesslab.com/switches/).
- Любые другие пользователи клавиатуры. Они&nbsp;могут быть продвинутого уровня или&nbsp;у&nbsp;них&nbsp;временно сломалась мышка.
- Пользователи экранных луп, которые используют для навигации клавиатуру.

Представьте, что&nbsp;используете для навигации клавиатуру и&nbsp;зашли на&nbsp;сайт интернет-магазина, например, Ozon. Вы&nbsp;нашли нужный товар, перешли к&nbsp;нему и&nbsp;снова оказались в&nbsp;начале страницы. Примерно 40&nbsp;табов и&nbsp;вот наконец можно узнать больше про понравившийся рюкзак. Со&nbsp;skip link вы&nbsp;бы&nbsp;оказались в&nbsp;нужном месте в&nbsp;одно нажатие и&nbsp;не&nbsp;заснули по&nbsp;пути.

### Требования к&nbsp;skip link

- Находится на&nbsp;первом месте в&nbsp;порядке табуляции.
- Ведёт сразу к&nbsp;основному контенту и&nbsp;устанавливает фокус на&nbsp;нём. Она&nbsp;эффективнее, если на&nbsp;странице одна основная область&nbsp;— `<main>`.
- Может располагаться в&nbsp;основной области страницы. В&nbsp;этом случаем она&nbsp;пропускает нужный блок и&nbsp;ведёт в&nbsp;начало следующего.
- Понятно называется и&nbsp;хорошо описывает, куда ведёт.
- Может быть всегда видна, а&nbsp;может появляться при фокусе с&nbsp;клавиатуры. В&nbsp;обоих случаях отвечает критериям WCAG.
- Можно добавлять несколько таких ссылок. Например, одна ведёт к&nbsp;основному контенту, вторая&nbsp;— к&nbsp;поисковой строке. Не&nbsp;стоит перебарщивать с&nbsp;количеством, иначе в&nbsp;ссылках нет смысла.
- Не&nbsp;должна мешать пользователям мыши. Это дискуссионное требование, но&nbsp;в&nbsp;нём&nbsp;есть разумное зерно. Если такая ссылка всегда видна, то&nbsp;может запутать пользователей мышки. Они не&nbsp;знакомы с&nbsp;этим паттерном, а&nbsp;ещё один способ прокрутки к&nbsp;основному контенту им&nbsp;не&nbsp;нужен.

## Практика

В&nbsp;проекте уже должен поддерживаться фокус с&nbsp;клавиатуры и&nbsp;использоваться семантическая вёрстка. Без этого skip link бесполезна.

### Размечаем страницу

Перед тем, как перейти к&nbsp;разметке, пара слов про текст ссылки. На&nbsp;англоязычных сайтах чаще всего используют «Skip to main content» или&nbsp;«Skip to content». Кажется, что самые подходящие эквиваленты в&nbsp;русском — «Перейти к&nbsp;основному контенту» или&nbsp;более краткое «К&nbsp;основному контенту». «Cодержание» — широкое понятие и&nbsp;означает содержимое страницы или&nbsp;оглавление. «Контент» лучше отражает, куда ведёт ссылка.

Ещё несколько вариантов названия:

- пропустить навигацию (Skip navigation);
- пропустить основную навигацию (Skip main navigation);
- пропустить ссылки в&nbsp;навигации (Skip navigation links).

Теперь поговорим о&nbsp;разметке.

Практическая реализация skip link&nbsp;— якорная ссылка. Лучше добавить её&nbsp;в&nbsp;начало `<body>` или&nbsp;`<header>`, если это первый элемент на&nbsp;странице. В&nbsp;примерах буду добавлять её&nbsp;в&nbsp;начало хедера.

```html
<header>
    <a href="#main-content" class="skip-link">Перейти к основному контенту</a>
    <!-- Внушительная навигация -->
</header>
```

А&nbsp;вот куда она&nbsp;должна вести&nbsp;— главная загвоздка. Есть несколько ответов на&nbsp;этот вопрос.

**Вариант 1**, классический. Ссылка ведёт прямо к&nbsp;`<main>`.

```html
<!-- Вариант 1 -->

<header>
    <a href="#main-content" class="skip-link">Перейти к основному контенту</a>
    <!-- Внушительная навигация -->
</header>

<main id="main-content">
    <!-- Контент основного блока -->
</main>
```

Этот вариант более-менее хорошо работает в&nbsp;современных браузерах, но&nbsp;есть одно «но». [Могут возникнуть проблемы](https://axesslab.com/skip-links/) во&nbsp;всех мобильных браузерах на&nbsp;старых версиях iOS и&nbsp;Android, в&nbsp;старых Chrome и&nbsp;даже в&nbsp;Safari 14. Баги везде разные.

- **iOS + VoiceOver**. При переходе по&nbsp;skip link визуально срабатывает прокрутка, но, после свайпа, фокус перемещается на&nbsp;другую область, а&nbsp;не&nbsp;на&nbsp;содержимое основного блока. Другой баг возвращает в&nbsp;начало страницы, когда пытаешься перейти к&nbsp;следующему элементу в&nbsp;основном блоке.
- **Android + TalkBack**. Скрытые ссылки просто не&nbsp;получают фокус. Это ошибка всей системы, из-за которой на&nbsp;таких элементах не&nbsp;запускается событие фокуса.
- **Chrome**. Фокус остаётся на&nbsp;skip link и&nbsp;перемещается к&nbsp;следующему элементу после ссылки после нажатия на&nbsp;<kbd>Tab</kbd>.
- **Safari + VoiceOver**. В&nbsp;ишьюс [GOV.UK](http://gov.UK) нашла [свежий баг](https://github.com/alphagov/govuk-frontend/issues/2187) с&nbsp;десктопным Safari 14 и&nbsp;VoiceOver. Если нажать на&nbsp;skip link, а&nbsp;потом на&nbsp;клавишу со&nbsp;стрелкой, то&nbsp;фокус переместится на&nbsp;следующий элемент после ссылки.

[Баг на&nbsp;iOS](https://bugs.webkit.org/show_bug.cgi?id=179011) исправлен в&nbsp;апреле&nbsp;2020, на&nbsp;[Android](https://bugs.chromium.org/p/chromium/issues/detail?id=657157) — в&nbsp;феврале&nbsp;2021 и&nbsp;в&nbsp;[Chrome](https://bugs.chromium.org/p/chromium/issues/detail?id=37721)&nbsp;— ещё в&nbsp;2017. Следовательно, они&nbsp;не&nbsp;встречаются с&nbsp;iOS 13+, как минимум с&nbsp;Android 10+ и&nbsp;в&nbsp;старых версиях Chrome. Только часть пользователей скринридеров долго не&nbsp;обновляет браузеры и&nbsp;операционные системы, так что от&nbsp;фикса багов не&nbsp;становится легче.

**Вариант 2**, в&nbsp;котором ссылка ведёт к&nbsp;`<h1>` внутри `<main>`.

```html
<!-- Вариант 2 -->

<header>
    <a href="#main-content" class="skip-link">Перейти к основному контенту</a>
    <!-- Внушительная навигация -->
</header>

<main>
    <h1 id="main-content">Основной заголовок</h1>
    <!-- Остальной контент основного блока -->
</main>
```

Отличается от&nbsp;первого варианта тем, что скринридеры объявят текст заголовка, а&nbsp;не&nbsp;всё текстовое содержимое `<main>`. Это даст пользователям больше контроля, так как им&nbsp;не&nbsp;нужно прерывать автоматическое объявление вручную.

У&nbsp;такой разметки те же баги, что и&nbsp;у&nbsp;предыдущего варианта с&nbsp;`<main>` с&nbsp;атрибутом `id`.

**Вариант 3**, который решает проблему двух предыдущих.

```html
<!-- Вариант 3 -->

<header>
    <a href="#main-content" class="skip-link">Перейти к основному контенту</a>
    <!-- Внушительная навигация -->
</header>

<main id="main-content" tabindex="-1">
    <!-- Контент основного блока -->
</main>
```

Атрибут `tabindex` с&nbsp;отрицательным значением удаляет элемент из последовательной навигации.

Этот хак хорошо работает со&nbsp;старыми версиями Chrome и&nbsp;на iOS. И&nbsp;снова «но». В&nbsp;других браузерах это может привести к&nbsp;новым багам:

- При переходе к&nbsp;основному блоку выделяется вся область с&nbsp;отрицательным `tabindex`.
- При клике по&nbsp;странице фокус вернётся в&nbsp;её&nbsp;начало.

Здесь на&nbsp;помощь приходит JavaScript. Нужен скрипт, который, после события клика у&nbsp;skip link, устанавливает фокус на&nbsp;`main` и&nbsp;добавляет ему&nbsp;атрибут `tabindex="-1"`. При потере фокуса этот атрибут удаляется. Можно подсмотреть реализацию в&nbsp;[демке Майка Фоскетта](https://codepen.io/2kool2/pen/bxdzEJ), в&nbsp;том числе для Android. Аника Хенке предлагает более универсальное [решение на&nbsp;jQuery](https://github.com/selfthinker/dokuwiki_template_writr/blob/master/js/skip-link-focus-fix.js), которое исправляет все ссылки и&nbsp;тоже удаляет `tabindex` в&nbsp;момент потери фокуса.

**Вариант 4**, в&nbsp;котором skip link ведёт к&nbsp;другой ссылке перед `<main>`.

```html
<!-- Вариант 4 -->

<header>
    <a href="#main-content" class="skip-link">Перейти к основному контенту</a>
    <!-- Внушительная навигация -->
</header>

<a href="#main-content" id="main-content" class="skip-link skip-link-target">Начало основного контента</a>

<main>
    <!-- Контент основного блока -->
</main>
```

Решение предложил Пол Рэдклифф в&nbsp;[«A Deep Dive on Skipping to Content»](https://css-tricks.com/a-deep-dive-on-skipping-to-content/). Он&nbsp;сделал [демо](https://rpress.io/examples/skip-to-content/skip-to-content-additional-in-content-skip-link.html) для большей наглядности.

В&nbsp;этом случае скринридер объявит, что мы&nbsp;перешли к&nbsp;ссылке «Начало основного контента».

Разметка решает проблему пользователей, которые не&nbsp;понимают, сработала ссылка или&nbsp;нет. Также она&nbsp;помогает избежать багов с&nbsp;некорректным поведением фокуса с&nbsp;клавиатуры в&nbsp;некоторых браузерах.

Этот способ новый и&nbsp;интересный, но&nbsp;вижу несколько проблем.

1. Вторая ссылка может сбить с&nbsp;толку пользователей скринридеров. Она&nbsp;никуда не&nbsp;ведёт, а&nbsp;так и&nbsp;хочется нажать на&nbsp;неё.
2. Если пользователь без особенностей зрения протабает всю навигацию, то увидит непонятную ссылку «Начало основного контента».
3. Точно поймаешь баг на&nbsp;Android из&nbsp;первого варианта, ведь это всё ещё визуально скрытые элементы.

**Вариант 5**, когда вторая ссылка без текста внутри `<main>`, с&nbsp;`href` или&nbsp;без него.

```html
<!-- Вариант 5 -->

<header>
    <a href="#main-content" class="skip-link">Перейти к основному контенту</a>
    <!-- Внушительная навигация -->
</header>

<main>
    <a id="main-content" class="visually-hidden-link"></a>
    <!-- Остальной контент основного блока -->
</main>
```

Его&nbsp;используют на&nbsp;сайте [Deque](https://www.deque.com). И, кажется, это самый проблемный вариант.

Ссылка без `href` считается [ссылкой-плейсхолдером](https://www.scottohara.me//note/2019/07/17/placeholder-link.html). Её&nbsp;можно использовать для некоторых ситуаций, только если она&nbsp;не&nbsp;должна работать как ссылка. Дело в&nbsp;том, что&nbsp;на&nbsp;неё&nbsp;не&nbsp;устанавливается фокус с&nbsp;клавиатуры.

Если это ссылка без названия, но&nbsp;с&nbsp;`href`, то скринридеры будут зачитывать содержимое этого атрибута. Например, `"#main-content"`. Для NVDA эту проблему исправит `aria-hidden="true"`.

**Вариант 6** с&nbsp;несколькими ссылками, который подходит для редких кейсов.

```html
<!-- Вариант 6 -->

<header>
    <nav aria-label="Ссылки для пропуска меню">
        <a href="#search" class="skip-link">Перейти к поиску по сайту</a>
        <a href="#main-content" class="skip-link">Перейти к основному контенту</a>
    </nav>
    <!-- Внушительная навигация -->
    <form id="search">
        <!-- Поиск по сайту -->
    </form>
</header>

<main id="main-content">
    <!-- Контент основного блока -->
</main>
```

В&nbsp;этом примере обе ссылки обёрнуты в&nbsp;дополнительный `<nav>` с&nbsp;`aria-label`. Скринридеры объявят, что это навигация со&nbsp;ссылками для пропуска меню. Можно дополнительно обернуть их&nbsp;в&nbsp;`<ul>`, чтобы пользователям было проще навигироваться.

Без хака с&nbsp;`tabindex="-1"` из&nbsp;третьего варианта тоже могут возникнуть проблемы в&nbsp;старых и&nbsp;некоторых новых браузерах.

## Скрываем ссылку

Визуально скрывать ссылку и&nbsp;показывать её при фокусе тоже можно разными способами. Есть несколько основных правил:

- Не&nbsp;используйте свойства `display: none`, `visibility: hidden` или&nbsp;атрибут `hidden`. Нам&nbsp;надо скрыть ссылку только визуально.
- Не&nbsp;устанавливайте значение 0 для `width` и&nbsp;`height`. Тогда фокус просто не&nbsp;установится на&nbsp;таком элементе.

Давайте рассмотрим пару конкретных примеров со&nbsp;стилями.

**Вариант 1** с&nbsp;`position: absolute` и&nbsp;безумным отрицательным значением `left`.

Мы&nbsp;просто абсолютно позиционируем элемент, выносим его&nbsp;за&nbsp;видимую область, а&nbsp;при фокусе возвращаем туда, куда нужно.

```css
/* Вариант 1 */

.skip-link {
    position: absolute;
    top: auto;
    left: -999px;
    width: 1px;
    height: 1px;
    overflow: hidden;
}

/* Показываем при фокусе */
.skip-link:focus {
    top: 0;
    left: 0;
    width: auto;
    height: auto;
    overflow: visible;
}
```

**Вариант 2** с&nbsp;`clip` или&nbsp;`clip-path`. Старый-добрый visually-hidden способ.

Можно использовать их&nbsp;одновременно для большей совместимости. Ещё встречала вариант с&nbsp;`clip-path: inset(50%)`.

```css
/* Вариант 2 */

.skip-link {
    position: absolute;
    margin: 0;
    padding: 0;

    /* Для всех браузеров */
    clip: rect(0 0 0 0);

    /* Более современный способ. Поддерживается с префиксом */
    -webkit-clip-path: polygon(0 0, 0 0, 0 0, 0 0);
    clip-path: polygon(0 0, 0 0, 0 0, 0 0);
}

/* Показываем при фокусе */
.skip-link:focus {
    top: 0;
    left: 0;
    width: auto;
    height: auto;

    /* Если используете clip */
    clip: auto;

    /* Если используете clip-path */
    -webkit-clip-path: none;
    clip-path: none;
}
```

Свойство `clip` устарело, и&nbsp;ему&nbsp;на&nbsp;смену должно прийти `clip-path`. Пока будущее не&nbsp;наступило окончательно, и&nbsp;`clip-path` в&nbsp;большинстве браузеров [поддерживается с&nbsp;префиксом](https://caniuse.com/css-clip-path).

**Вариант 3** с&nbsp;`transform`.

Снова позиционируем ссылку абсолютно и&nbsp;прячем её&nbsp;за&nbsp;пределы видимой области с&nbsp;помощью `transform`. Когда на&nbsp;ней&nbsp;фокус, то&nbsp;возвращаем обратно.

```css
/* Вариант 3 */

.skip-link {
    position: absolute;
    top: 0;
    left: 0;
    transform: translateY(-100%);
}

/* Показываем при фокусе */
.skip-link:focus {
    transform: translateY(0%);
}
```

## Добавляем последние штрихи

Остальная стилизация skip link зависит от&nbsp;вашего дизайнерского видения. Самое главное, чтобы она была хорошо видна при фокусе с&nbsp;клавиатуры.

[WebAIM](https://webaim.org) рекомендует не&nbsp;показывать ссылку неожиданно. Это может сбить с&nbsp;толку пользователей клавиатуры, которые видят интерфейс. Это исправит плавная анимация. Тогда ссылка будет выезжать из-за края экрана и&nbsp;уезжать обратно, когда на&nbsp;ней&nbsp;больше нет фокуса.

Размещать ссылки можно в&nbsp;любой верхней части экрана. Очень часто их&nbsp;располагают в&nbsp;левом верхнем углу, но&nbsp;это не&nbsp;железное правило.

Собрала небольшой список сайтов со&nbsp;skip link, где можно посмотреть, как они задизайнены у&nbsp;других. Используйте для навигации <kbd>Tab</kbd> на&nbsp;Windows и&nbsp;<kbd>Tab</kbd> или&nbsp;<kbd><kbd>Option</kbd>+<kbd>Tab</kbd></kbd> на&nbsp;macOS.

- [The New York Times](https://www.nytimes.com).
- [BBC](https://www.bbc.com).
- [GOV.UK](https://www.gov.uk).
- [Deque](https://www.deque.com).
- [WebAIM](https://webaim.org).
- [Amazon](https://www.amazon.com).
- [PlayStation](https://www.playstation.com).
- [Microsoft](https://www.microsoft.com/).
- [World of Warcraft](https://worldofwarcraft.com/en-gb/).
- [Reddit](https://www.reddit.com).

## Пара слов напоследок

Часто, чем что-то кажется проще, тем оно&nbsp;сложнее на&nbsp;самом деле. Это произошло и&nbsp;со&nbsp;skip link.

Вариантов того, как сделать skip link, довольно много для такого небольшого элемента. У&nbsp;них&nbsp;есть плюсы и&nbsp;минусы. Для себя выбрала бы классическую реализацию со&nbsp;ссылкой, которая ведёт к&nbsp;`<main>` или&nbsp;`<h1>` с&nbsp;`tabindex="-1"` из&nbsp;третьего варианта. И&nbsp;прогрессивно улучшила её&nbsp;с&nbsp;помощью JS. Что касается стилей для скрытия ссылки, то они все рабочие. Можно выбрать любой, который больше подходит для проекта. Я&nbsp;чаще всего пользуюсь абсолютным позиционированием и&nbsp;отрицательным значением `left`.

## Что почитать

- [Bypass Blocks. Understanding SC 2.4.1](https://www.w3.org/TR/UNDERSTANDING-WCAG20/navigation-mechanisms-skip.html), W3C.
- [Accessibility Skip links](https://www.w3schools.com/accessibility/accessibility_skip_links.php), W3C School.
- [«Skip Navigation» Links](https://webaim.org/techniques/skipnav/), WebAIM.
- [Use skip navigation links](https://www.a11yproject.com/posts/skip-nav-links/), Камерон Кандифф.
- [A Deep Dive on Skipping to Content](https://css-tricks.com/a-deep-dive-on-skipping-to-content/), Пол Рэдклифф.
- [Some thoughts on CSS Tricks' «Deep Dive on Skipping to Content»](https://plousia.com/blog/some-thoughts-css-tricks-deep-dive-skipping-content), Сюзанна Чельсо.
- [How to Create a «Skip to Content» Link](https://css-tricks.com/how-to-create-a-skip-to-content-link/), Пол Райан.
- [Implement a Skip Link for Navigation-Heavy Sites](https://benmyers.dev/blog/skip-links/), Бен Майерс.
- [Your skip links are broken](https://axesslab.com/skip-links/), Хампус Сетфош.
- [Skip links: the 5 most common mistakes](https://www.system-concepts.com/insights/skip-links-the-5-most-common-mistakes/), System Concepts.

***

Спасибо [Василию Дудину](https://twitter.com/vasiliy_dudin) за помощь с редактированием.
