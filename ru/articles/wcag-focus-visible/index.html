<!DOCTYPE html><html class="page" lang="ru"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Разбираемся с критерием о видимом клавиатурном фокусе у интерактивных элементов."><link rel="canonical" href="https://tatiana-fokina-blog.ru/ru/articles/wcag-focus-visible/"><title>Принципы WCAG. Видимый фокус — Блог о цифровой доступности</title><link rel="alternate" hreflang="ru" href="https://tatiana-fokina-blog.ru/ru/articles/wcag-focus-visible/"><meta property="og:type" content="website"><meta property="og:url" content="https://tatiana-fokina-blog.ru/ru/articles/wcag-focus-visible/"><meta property="og:title" content="Принципы WCAG. Видимый фокус"><meta property="og:description" content="Разбираемся с критерием о видимом клавиатурном фокусе у интерактивных элементов."><meta property="og:image" content="https://tatiana-fokina-blog.ru/assets/og-image.jpg"><meta name="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://tatiana-fokina-blog.ru/ru/articles/wcag-focus-visible/"><meta name="twitter:title" content="Принципы WCAG. Видимый фокус"><meta name="twitter:description" content="Разбираемся с критерием о видимом клавиатурном фокусе у интерактивных элементов."><meta name="twitter:site" content="https://tatiana-fokina-blog.ru/ru/articles/wcag-focus-visible/"><meta name="twitter:image" content="https://tatiana-fokina-blog.ru/assets/og-image.jpg"><script type="application/ld+json">{
			"@context": "https://schema.org",
			"@type": "Article",
			"headline": "Принципы WCAG. Видимый фокус",
			"description": "Разбираемся с критерием о видимом клавиатурном фокусе у интерактивных элементов.",
			"keywords": "WCAG, Дизайн, CSS, Клавиатура",
			"image": "https://tatiana-fokina-blog.ru/assets/og-image.jpg",
			"author": {
				"@type": "Person",
				"name": "Татьяна Фокина",
				"url": "https://www.linkedin.com/in/tatiana-fokina-frontend/"
			},
			"publisher": {
				"@type": "Organization",
				"name": "Татьяна Фокина",
				"url": "https://www.linkedin.com/in/tatiana-fokina-frontend/",
				"logo": {
					"@type": "ImageObject",
					"url": "https://tatiana-fokina-blog.ru/assets/og-image.jpg"
				}
			},
			"datePublished": "2022-12-18T00:00:00.000Z",
			"dateModified": "2022-12-18T00:00:00.000Z"
		}</script><script defer="defer" src="/scripts/bundle.js?v=1f3a9a3c"></script><link rel="stylesheet" href="/styles/styles.css?v=1905ca2e"><link rel="icon" sizes="32x32" href="/assets/favicons/favicon.ico" type="image/png"><link rel="icon" href="/assets/favicons/icon.svg" type="image/svg+xml"><link rel="apple-touch-icon" sizes="180x180" href="/assets/favicons/apple-touch-icon.png"><link rel="manifest" href="/manifest.json"><link rel="alternate" type="application/rss+xml" title="Практические советы по цифровой доступности для фронтенд-разработчиков, QA тестировщиков и дизайнеров. Тут вы узнаете о методах создания доступных и удобных интерфейсов, стандартах, ассистивных технологиях и законах." href="https://tatiana-fokina-blog.ru/ru/feed.xml"></head><body class="base" data-theme="light"><header><div class="header wrapper"><nav class="nav"><div class="logo"><a class="logo__link" href="/ru/"><svg class="logo__image" aria-hidden="true" viewBox="0 0 85 85" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M42.5 85C65.972 85 85 65.972 85 42.5S65.972 0 42.5 0 0 19.028 0 42.5 19.028 85 42.5 85Zm-3.283-52.75c2.608-.56 4.284-3.06 3.742-5.588-.54-2.527-3.094-4.123-5.702-3.564-2.608.559-4.283 3.06-3.742 5.587.541 2.527 3.094 4.123 5.702 3.564Zm-9.361 4.056 20.238-4.335a1.876 1.876 0 0 1 1.283.17c.375.204.632.535.714.92a1.39 1.39 0 0 1-.274 1.133c-.258.34-.654.585-1.101.681l-8.433 1.806 2.405 11.227 8.627 8.405c.295.287.44.672.403 1.07-.037.399-.253.777-.601 1.053a1.978 1.978 0 0 1-1.254.419 1.719 1.719 0 0 1-1.172-.461l-6.983-6.828-3.568 9.118a1.72 1.72 0 0 1-.88.9 1.978 1.978 0 0 1-1.315.133c-.43-.11-.783-.367-.98-.715a1.311 1.311 0 0 1-.07-1.141l4.42-11.23-2.404-11.227-8.433 1.806a1.875 1.875 0 0 1-1.284-.17 1.39 1.39 0 0 1-.713-.92 1.39 1.39 0 0 1 .273-1.134c.258-.34.655-.585 1.102-.68ZM10.04 53.543l-.895-4.182 15.183-13.39.913 4.264-11.71 10.205.07.322 14.853 4.473.922 4.304-19.335-5.996Zm61.007-15.086-11.71 10.205.914 4.263 15.183-13.389-.896-4.183-19.335-5.995.922 4.303 14.853 4.474.069.322Z"/></svg> <span class="visually-hidden">Блог о цифровой доступности</span></a></div><ul class="nav__list"><li class="nav__list-item"><a class="nav__list-link" href="/en/"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><circle cx="12" cy="12" r="10"/><path d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"/><path d="M2 12h20"/></svg> <span class="nav__list-text" lang="en">English</span></a></li><li class="nav__list-item"><a class="nav__list-link" href="/ru/feed.xml"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><path d="M4 11a9 9 0 0 1 9 9"/><path d="M4 4a16 16 0 0 1 16 16"/><circle cx="5" cy="19" r="1"/></svg> <span class="nav__list-text">RSS</span></a></li></ul></nav><section class="theme-switcher" aria-label="Тема"><button class="theme-switcher__button" aria-pressed="true" value="light">Светлая</button> <button class="theme-switcher__button" aria-pressed="false" value="dark">Тёмная</button></section></div></header><div class="base__body wrapper"><main><header class="article-header"><h1>Принципы WCAG. Видимый фокус</h1><ul class="topics topics--in-article"><li class="topics__item">WCAG</li><li class="topics__item">Дизайн</li><li class="topics__item">CSS</li><li class="topics__item">Клавиатура</li></ul><div class="article-header__date"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><path d="M8 2v4"/><path d="M16 2v4"/><rect width="18" height="18" x="3" y="4" rx="2"/><path d="M3 10h18"/></svg> Опубликовано <time datetime="2022-12-18T00:00:00.000Z">18 декабря 2022</time></div></header><div class="article"><p>В этом посте из серии про разбор Руководств по доступности веб-контента (Web Content Accessibility Guidelines, коротко WCAG) расскажу про <a href="https://www.w3.org/WAI/WCAG22/Understanding/focus-visible.html" rel="noopener">критерий 2.4.7: видимый фокус</a>.</p><p>Критерий относится к принципу управляемости и к руководству про доступность с клавиатуры. Во WCAG 2.1 это критерий уровня AA. Во WCAG 2.2 уровень изменится на A.</p><h2>Коротко о критерии</h2><p>У интерфейса, с которым можно взаимодействовать с помощью клавиатуры, должен быть как минимум один способ работы с видимым <strong>индикатором фокуса (focus indicator)</strong>.</p><h2>Подробнее</h2><p>Звучит сложно, но на самом деле всё не так страшно. У интерактивных элементов должны быть видимые стили фокуса, когда пользователь взаимодействует с ними. Например, у кнопок, ссылок или полей форм. Так что, в критерии нет указания на то, что, при взаимодействии с элементами с помощью мыши, фокус тоже должен быть обязательно виден.</p><p>Рекомендации по внешнему виду фокуса собраны в <a href="/ru/articles/wcag-focus-appearance/" rel="noopener">2.4.11: внешний вид фокуса</a>. Это новый критерий, который появится во WCAG 2.2. Однако, если фокус совсем незаметный, это считается нарушением критерия про видимый фокус. Например, когда рамка фокуса сливается с фоном кнопки или она тонкая и неконтрастная.</p><p>Другие требования к фокусу:</p><ul><li>он не должен исчезать через какое-то время сам по себе;</li><li>стили элементов без фокуса не должны быть похожи на стили фокуса.</li></ul><p>Хотя критерий этого не требует, следите за тем, чтобы у неактивных интерактивных элементов не было стилей фокуса. Например, в формах часто нельзя нажать на кнопку пока не заполнишь все нужные поля.</p><h2>Кому это важно</h2><ul><li><p>Все пользователи клавиатуры — люди с особенностями моторики, продвинутые пользователи.</p></li><li><p>Люди с когнитивными особенностями, у которых небольшой объём кратковременной памяти. Они легко отвлекаются и быстрее забывают на каком элементе остановились.</p><p></p><aside class="article__note"><span class="article__note-icon">📌</span><p class="article__note-text">Кратковременная память отвечает за обработку новой информации и работу со старой из долговременной памяти, когда надо что-то вспомнить. Обычно кратковременная память может обработать максимум 4–5 объектов, у нейроотличных людей их может быть ещё меньше.</p></aside><p></p></li></ul><h2>Как избежать барьер</h2><p>За стили фокуса отвечают дизайнеры и разработчики.</p><p>Дизайнеры могут проработать в дизайн-системе все состояния интерактивных элементов заранее.</p><p>Разработчиком достаточно не отменять стили фокуса по умолчанию:</p><pre class="language-css"><code class="language-css"><span class="token selector">a:focus</span> <span class="token punctuation">{</span>
    <span class="token property">outline</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">button:focus</span> <span class="token punctuation">{</span>
    <span class="token property">outline</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>Если в стилях есть такие строчки про фокус и больше ничего, вы нарушаете критерий про видимость фокуса. Лучше так не делать. Можно вообще не трогать фокус или задать ему другие стили через <code>outline</code> или с помощью <code>border</code>.</p><p>Кроме старого-доброго <code>:focus</code> можно использовать <code>:focus-visible</code>. Этот псевдокласс задаёт стили только для клавиатурного фокуса. Имейте в виду, что это может запутать пользователей, которые совмещают клавиатуру и мышь. Их может смутить то, что где-то стили фокуса есть, а где-то нет.</p><h2>Примеры соответствия критерию</h2><ul><li>При фокусе на поле с почтой вокруг него появляется зелёная рамка, которую хорошо видно на белом фоне.</li><li>При фокусе на ссылке её текст становится белым, а фон — тёмно-синим. Ссылку хорошо видно на белом фоне.</li></ul><p>На <a href="https://www.xbox.com/en-us/" rel="noopener">сайте Xbox</a> у всех интерактивных элементов есть стили фокуса, хотя они не очень констистентные. В каки-то случаях это жирная пунктирная линия, в каких-то двойная сплошная рамка. Внутри она синяя, снаружи белая.</p><figure><img src="images/xbox-site.png" alt="В фокусе ссылка на Elden Ring Deluxe Edition. Видна цена и скидка в 20%. После ссылки в фокусе идёт блок с похожими играми — Thymesia, Cult Lamb, Isaac, Diablo 2 и другими."><figcaption>Страница игры Elden Ring на сайте Xbox.</figcaption></figure><h2>Примеры барьеров</h2><ul><li>При фокусе на чёрной кнопке с белым текстом вокруг неё появляется тонкая чёрная рамка. Её трудно увидеть.</li><li>При фокусе на ссылке она никак визуально не изменяется.</li></ul><p>На <a href="https://www.pixar.com" rel="noopener">сайте Pixar</a> у всех интерактивных элементов отменены стили фокуса и используется <code>outline: 0</code>. Это можно проверить с помощью клавиши <kbd>Tab</kbd> и <kbd><kbd>Tab</kbd> + <kbd>Shift</kbd></kbd>.</p><p>На <a href="https://www.playstation.com/en-us/" rel="noopener">сайте PlayStation</a> у элементов есть стили фокуса, но некоторые элементы в неинтерактивном состоянии выглядят как будто они в фокусе. Например, на скриншоте фокус сделан на кнопке «Learn More» («Узнать больше»). Это видно благодаря синей рамке вокруг неё. У ссылки «PS5 Console» точно такая же синяя рамка в неактивном состоянии. Из-за этого трудно понять, где на самом деле сейчас фокус.</p><figure><img src="images/playstation-site.png" alt="Выделена кнопка и ссылка. На кнопке «Узнать больше» сделан фокус. Он выглядит как синяя рамка со скруглёнными углами. После кнопки располодена ссылка «PS5 Console» c текстом и изображением с белой консолью и контролом, который лежит перед ней. Вокруг ссылки видна синяя рамка со скруглёнными углами, которая похожа на фокус у кнопки."><figcaption>Главная страница сайта PlayStation.</figcaption></figure><h2>Как тестировать</h2><p>Критерий тестируют смешанным способом.</p><ul><li>Найдите все интерактивные элементы с помощью <kbd>Tab или скриптом</kbd>.</li><li>Убедитесь, что у всех элементов есть видимый фокус.</li></ul><p>Найти интерактивные элементы на странице можно разными способами. Например, использовать букмарклеты <a href="https://www.ssa.gov/accessibility/andi/help/install.html" rel="noopener">ANDI</a> или <a href="https://pauljadam.com/bookmarklets/focus.html" rel="noopener">Force Show Keyboard Focus</a>. Ещё можно написать <a href="https://codepen.io/svinkle/pen/WgYRxq" rel="noopener">свой небольшой скрипт</a> и собирать интерактивные элементы в консоли в браузере.</p><pre class="language-js"><code class="language-js">document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'focus'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>activeElement<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><a href="https://codepen.io/scottohara/pen/QBwJyw?editors=0010" rel="noopener">Букмарклет Скотта О’Хары</a> автоматически проходит через элементы и показывает их стили фокуса.</p><h2>Что почитать</h2><ul><li><a href="https://www.w3.org/TR/WCAG22/#focus-visible" rel="noopener">Success Criterion 2.4.7 Focus Visible</a>, WCAG 2.2.</li><li><a href="https://www.w3.org/WAI/WCAG22/Understanding/focus-visible.html" rel="noopener">Understanding Success Criterion 2.4.7: Focus Visible</a>, WCAG 2.2.</li><li><a href="https://www.accessguide.io/guide/focus-indicator" rel="noopener">Ensure that focus indicator is visible</a>, Access Guide.</li><li><a href="https://github.com/alphagov/wcag-primer/wiki/2.4.7" rel="noopener">Accessibility testing guide. 2.4.7 Focus Visible</a>, <a href="http://gov.uk" rel="noopener">gov.uk</a>.</li><li><a href="https://www.webaxe.org/force-focus-tools/" rel="noopener">Force Focus Tools</a>, Web Axe.</li></ul></div><section aria-labelledby="heading"><h2 id="heading">Другие статьи</h2><ul class="cards cards--in-article"><li class="cards__item cards__item--compact"><a href="/ru/articles/wcag-page-titled/" class="cards__item-link">Принципы WCAG. Название страницы</a> <span>← Предыдущая</span></li><li class="cards__item cards__item--compact"><a href="/ru/articles/wcag-non-text-content/" class="cards__item-link">Принципы WCAG. Нетекстовое содержимое</a> <span>Следующая →</span></li></ul></section></main></div><footer><div class="footer wrapper"><small class="footer__content">Татьяна Фокина, 2021–2024</small> <small class="footer__content">© Права на иконки принадлежат <a href="https://lucide.dev">Cole Bemis & Lucide Contributors</a> </small><small class="footer__content">Разработано на <a href="https://www.11ty.dev/">11ty</a>. Нашли ошибку? Расскажите мне на <a href="https://github.com/TatianaFokina/a11y-blog">GitHub</a></small></div></footer><script>setTimeout(function(){var e,t,n,a;e=window,a=document,t="script",e.ym=e.ym||function(){(e.ym.a=e.ym.a||[]).push(arguments)},e.ym.l=+new Date,n=a.createElement(t),a=a.getElementsByTagName(t)[0],n.async=1,n.src="https://cdn.jsdelivr.net/npm/yandex-metrica-watch/tag.js",a.parentNode.insertBefore(n,a),ym(83045434,"init",{clickmap:!1,trackLinks:!1,accurateTrackBounce:!0})},2e3)</script><script defer="defer" data-domain="tatiana-fokina-blog.ru" src="https://analytics.vasiliy-dudin.com/js/script.js"></script></body></html>